

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How To Install &mdash; MolStrucClassifier  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_extra.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Symmetry Function codes (molvec_lib)" href="SymmetryFunction.html" />
    <link rel="prev" title="MolStrucClassifier index page" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MolStrucClassifier
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How To Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirement">Requirement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-libraly-code-molstrucclassifier">Install libraly code (MolStrucClassifier)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#copy-the-repository">Copy the repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-lammps-code">Install LAMMPS code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1">Step 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2">Step 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3">Step 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-4">Step 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-moltemplate">Install moltemplate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Step 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Step 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Step 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Step 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-ogre">Install Ogre</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Step 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Step 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-nyu-greene">Using NYU GREENE</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SymmetryFunction.html">Symmetry Function codes (molvec_lib)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FULL2.html">LAMMPS atom style (USER-ATOM-VEC-FULL2)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="How_to_use.html">How to link with LAMMPS and run</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Ovito.html">Get data file using ovito</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="moltemplate.html">How to prepare files using moltemplate</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Ogre.html">How to use Ogre</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="neuralnet.html">Neural Network Classification Code</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sample.html">Sample_code</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MolStrucClassifier</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How To Install</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-install">
<h1>How To Install<a class="headerlink" href="#how-to-install" title="Permalink to this headline">¶</a></h1>
<p>This page will explain how to install all the packages you need for this project step by step.</p>
<div class="section" id="requirement">
<span id="installation"></span><h2>Requirement<a class="headerlink" href="#requirement" title="Permalink to this headline">¶</a></h2>
<p>This package requires C++ compilar. Environments under intel 19.1.2 was tested</p>
</div>
<div class="section" id="install-libraly-code-molstrucclassifier">
<h2>Install libraly code (MolStrucClassifier)<a class="headerlink" href="#install-libraly-code-molstrucclassifier" title="Permalink to this headline">¶</a></h2>
<div class="section" id="copy-the-repository">
<h3>Copy the repository<a class="headerlink" href="#copy-the-repository" title="Permalink to this headline">¶</a></h3>
<p>You can copy the repository by typing the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/rogalj/MolStrucClassifier.git</span>
</pre></div>
</div>
<p>If you already installed the repository, you can update it by typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git pull</span>
</pre></div>
</div>
<p>If you are an editter, check the following command as well.</p>
<p>If you make any changes and want to add directories/files to the GitHub repository, you can upload them by typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git add name_of_folder/file</span>
</pre></div>
</div>
<p>The following command can check the status of the local repository. This command will show all the files that you added, deleted or modified which are not yet reflected to the local repository.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git status</span>
</pre></div>
</div>
<p>When you upload the directories/files, you can also add a comment. You can add them like the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git commit -m &quot;WHATEVER THE COMMENT YOU WANT&quot;</span>
</pre></div>
</div>
<p>This process will add to your local repository. If you want to add them to the global repository, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git push</span>
</pre></div>
</div>
<p>At this point, your work will be on the GitHub repository.</p>
<p>If you made a mistake and added an unnecessary file, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git reset</span>
</pre></div>
</div>
<p>to cancel the command you were working on.</p>
</div>
</div>
<div class="section" id="install-lammps-code">
<h2>Install LAMMPS code<a class="headerlink" href="#install-lammps-code" title="Permalink to this headline">¶</a></h2>
<p>In order to run the libraly programs in LAMMPS, you need to have the LAMMPS code. If you don’t need to connect with LAMMPS, you can skip this section. If you already have LAMMPS, make sure you connect the libraly and have the appropriate packages shown in Step 4.</p>
<div class="section" id="step-1">
<h3>Step 1<a class="headerlink" href="#step-1" title="Permalink to this headline">¶</a></h3>
<p>Go to the directory where you want to store the lammps code. I use mylammps as an example. Run the following command at mylammps directory to install LAMMPS from github.</p>
<p>Run the following command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone -b release https://github.com/lammps/lammps.git mylammps</span>
</pre></div>
</div>
<p>If you want to add files (such as fix, compute files), add them in the src directory. You can also add directories in the src directory.</p>
</div>
<div class="section" id="step-2">
<h3>Step 2<a class="headerlink" href="#step-2" title="Permalink to this headline">¶</a></h3>
<p>The Next step is to get an appropriate module into your system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">module load intel/19.1.2</span>
<span class="go">module load openmpi/intel/4.1.1</span>
<span class="go">module load gcc/10.2.0</span>
</pre></div>
</div>
<p>We also tested with Intel 17.0.0.098 and OpenMPI 2.1.6.</p>
<p>After you load modules, update files in the src directory by typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make mpi</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3">
<h3>Step 3<a class="headerlink" href="#step-3" title="Permalink to this headline">¶</a></h3>
<p>The next step is to run the LAMMPS code using symbolic links and soft links. (which enable you to run the program from different directories)</p>
<p>On GREENE, people usually make a link in a bin directory. Let’s make a bin directory if you don’t have one. (first go to /home/username/bin).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ln -s /home/username/mylammps/src/lmp_mpi lammps</span>
</pre></div>
</div>
<p>Make another softlink that connects the LAMMPS code and the libraly files. Make a file in the libraly directory like <cite>Dafed_DK.inc</cite>. In this file you should have two things to connect the file.
When you make this file, make sure to change the path to the appropriate name for your case.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">DAFED_LOAD= /home/drk354/MolStrucClassifier/MolStrucClassifier/molvec_lib/ver2.0/libcv_nn.so -ldl</span>
<span class="go">DAFED_DEPENDENCIES = /home/drk354/MolStrucClassifier/MolStrucClassifier/molvec_lib/ver2.0/libcv_nn.so</span>
</pre></div>
</div>
<p>After this, go to the <cite>mylammps</cite> directory and type the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ln -s /home/drk354/MolStrucClassifier/MolStrucClassifier/molvec_lib/ver2.0/Dafed_DK.inc Dafed.inc at the parent directory of lammps src</span>
<span class="go">ln -s /home/drk354/MolStrucClassifier/MolStrucClassifier/molvec_lib/ver2.0/dafed_link.h Dafed.h at the parent directory of lammps src</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4">
<h3>Step 4<a class="headerlink" href="#step-4" title="Permalink to this headline">¶</a></h3>
<p>You are almost there! The next step is to install some additional LAMMPS packages at the source directory. You will need the following packages:</p>
<table class="docutils align-left">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>name_of_package</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KSPACE</p></td>
</tr>
<tr class="row-odd"><td><p>MANYBODY</p></td>
</tr>
<tr class="row-even"><td><p>MOLECULE</p></td>
</tr>
<tr class="row-odd"><td><p>OPT</p></td>
</tr>
<tr class="row-even"><td><p>EXTRA-MOLECULE</p></td>
</tr>
</tbody>
</table>
<p>The command you need to type to get these additional packages is as folows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make yes-name_of_package</span>
</pre></div>
</div>
<p>You can check the status from typing:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make pi</span>
</pre></div>
</div>
<p>Open <code class="docutils literal notranslate"><span class="pre">Makefile.package</span></code> and add the following to connect the source directory to the libraly directories:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">PKG_LIB =    $(DAFED_LOAD)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-moltemplate">
<h2>Install moltemplate<a class="headerlink" href="#install-moltemplate" title="Permalink to this headline">¶</a></h2>
<p>In order to run the libraly programs in LAMMPS, you need to have specific data file called .data. If you cannot find the dataset online, check the following section to create one. If you have a .data file with missing critical information (such as bonds, angles, dihedrals, improper angles information), you can use moltemplate to fill these. If you do not have .data file, refer to <a class="reference internal" href="How_to_use.html"><span class="doc">How to link with LAMMPS and run</span></a> for more information.</p>
<div class="section" id="id1">
<h3>Step 1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Run the following command to install Moltemplate:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/jewettaij/moltemplate moltemplate</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Step 2<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To create a symbolic link, navigate to the bin directory (/home/username/bin), as shown in Step 3 of Installing LAMMPS.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/jewettaij/moltemplate moltemplate</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>Step 3<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Python3.7.2 or above is required to use for this program. On Greene, we have python 3.8.6 and you have to load this module as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">module load python/intel/3.8.6</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Step 4<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Navigate to the Moltemplate directory and finish the installation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip3 install .</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-ogre">
<h2>Install Ogre<a class="headerlink" href="#install-ogre" title="Permalink to this headline">¶</a></h2>
<p>Ogre is a computational tool to create a surface with a vacuum region. In this project, I used this code to create surfaces.</p>
<div class="section" id="id5">
<h3>Step 1<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>If you want to download the code, go to <a class="reference external" href="https://www.noamarom.com/software/download/">Ogre webpage</a> and choose Ogre2.0.</p>
</div>
<div class="section" id="id6">
<h3>Step 2<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>After downloading the program, make some minor changes if the code does not work. Go to <code class="docutils literal notranslate"><span class="pre">/Ogre-master/ogre/utils</span></code> and remove the following two lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">from ogre.utils.surface_energy import convergence_plots</span>
<span class="go">from ogre.utils.unique_planes import UniquePlanes</span>
</pre></div>
</div>
<p>Next, go to <code class="docutils literal notranslate"><span class="pre">/Ogre-master/ogre/utils</span></code> and remove the following two lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">from ogre.utils.surface_energy import convergence_plots</span>
<span class="go">from ogre.utils.unique_planes import UniquePlanes</span>
</pre></div>
</div>
<p>Go to <code class="docutils literal notranslate"><span class="pre">/Ogre-master/ibslib/io</span></code> and open <code class="docutils literal notranslate"><span class="pre">check.py</span></code> and change line 22 from:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">extension2format = ase_extension2format`</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">extension2format = deepcopy(ase_extension2format)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-nyu-greene">
<h2>Using NYU GREENE<a class="headerlink" href="#using-nyu-greene" title="Permalink to this headline">¶</a></h2>
<p>We will use NYU’s high-performance computer, GREENE, as an example. If you do not have access to the account, visit the <a class="reference external" href="https://sites.google.com/nyu.edu/nyu-hpc/accessing-hpc/getting-and-renewing-an-account?authuser=0">NYU HPC account page</a>  to request access or download the appropriate softwares on your computer.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="SymmetryFunction.html" class="btn btn-neutral float-right" title="Symmetry Function codes (molvec_lib)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="MolStrucClassifier index page" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2024, Daisuke Kuroshima, Jutta Rogal.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>